<!-- src/main/resources/templates/car/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista de Coches</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script type="text/javascript">
        function editarCoche(id) {
            window.location.href = '/coches/editar-coche/' + id;
        }
        function nuevoCoche() {
            window.location.href = '/coches/nuevo/';
        }
        function eliminarCoche(id) {
            const confirm = window.confirm("¿Estás seguro de querer elimar el registro?");
            if(confirm){
                window.location.href = '/coches/eliminar-coche/' + id;
                setTimeout(function() {
                    location.reload(true);
                }, 1000);
            }
        }
    </script>
</head>
<body>
    <h1>Lista de Coches</h1>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Marca</th>
                <th>Modelo</th>
                <th>Color</th>
                <th>Número de Serie</th>
                <th>Exposición</th>
                <th>Precio</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <!-- Iterar sobre la lista de coches -->
            <tr th:each="coche : ${coches}">
                <td th:text="${coche.id}">Id</td>
                <td th:text="${coche.marca}">Marca</td>
                <td th:text="${coche.modelo}">Modelo</td>
                <td th:text="${coche.color}">Color</td>
                <td th:text="${coche.numeroSerie}">Num Serie</td>
                <td th:text="${coche.exposicion}">Exposicion</td>
                <td th:text="${coche.precio}">Precio</td>
                
                <td>
                    <div>
                        <button th:onclick="'editarCoche(\'' + ${coche.id} + '\')'">Editar</button>
                        <button th:onclick="'eliminarCoche(\'' + ${coche.id} + '\')'">Eliminar</button>
                    </div>
                </td>
            </tr>
            <tr>
                <div>
                    <button th:onclick="nuevoCoche()">Añadir Nuevo</button>
            </tr>
        </tbody>
    </table>
</body>
</html>